import matplotlib.pyplot as plt
import numpy as np
from Util import common
import os


def main():
    #get stock index values
    cfgPath = "../Config/config.cfg"
    common.init(cfgPath)
    
    stockFileDir = common.get_configuration("training", "HISTORICAL_STOCK")
    fileNames = os.listdir(stockFileDir)
    for name in fileNames:
        fName = stockFileDir + "/" + name
        basicValues = []
        moving3Values = []
        with open(fName,"r") as stockFile:
            lines = stockFile.readlines()
            for line in lines[2:]:
                line = line.replace("\r","").replace("\n","")
                date = line.split(",")[0]
                lastPrice = line.split(",")[1]
                previousLastPrice = line.split(",")[2]
                
                if lastPrice == "#N/A N/A" or previousLastPrice == "#N/A N/A":
                    continue
                basicValues.append(float(lastPrice))
        moving3Values = basicValues[3:] 
        basicValues = basicValues[0:len(basicValues)-3] 
        print len(moving3Values),len(basicValues)  
        print moving3Values   

if __name__ == "__main__":
    main()            